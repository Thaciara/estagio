<div class="container mt-3">
  <div class="card border-dark">
    <div class="card-header">
      <span class="card-title">Produtos</span>

      <span class="pull-right">
        <%= form_with(url: products_path, method: 'GET', local:true) do |f| %>
          <div class="input-group">
            <%= f.text_field :name_contains, placeholder: 'Por nome', class: 'form-control form-control-sm' %>
            <%= f.submit 'Pesquisar', class: 'btn btn-sm' %>
          </div>
        <% end %>
      </span>
    </div>
      <div class="card-body">

        <div class='table-responsive'>
          <table class='table table-striped table-bordered table-condensed'>
            <thead>
              <tr>
                <th>Nome</th>
                <th>Imagem</th>
                <th>Ativo</th>
                <th colspan="3"></th>
              </tr>
            </thead>
            <tbody>
              <% @products.each do |product| %>
                <tr>
                  <td><%= product.name %></td>
                  <td><%= image_tag product.image.url(:icon) %></td>
                  <td><%= product.active %></td>
                  <td><%= link_to 'Show', product %></td>
                  <td><%= link_to 'Edit', edit_product_path(product) %></td>
                  <td><%= link_to 'Destroy', product, method: :delete, data: { confirm: 'Are you sure?' } %></td>
                </tr>
              <% end %>
            </tbody>
          </table>
        </div>

      </div>

      <div class="card-footer">
        <%= link_to new_product_path do %>
          <i class="fa fa-plus" aria-hidden="true"></i>
          Novo
        <% end %>
      </div>

  </div>
</div>
